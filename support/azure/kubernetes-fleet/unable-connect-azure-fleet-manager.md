---
title: Can't connect to Azure Kubernetes Fleet Manager hub cluster
description: This article provides guidance for actions to take when you can't connect to an Azure Kubernetes Fleet Manager hub cluster.
ms.date: 01/29/2026
ms.author: simonwaight
ms.reviewer: chiragpa, v-ryanberg 
ms.service: azure-kubernetes-fleet-manager
ms.custom: sap:Other issue or questions related to Fleet manager
---
# Unable to connect to Azure Kubernetes Fleet Manager hub cluster

This article helps you resolve an issue preventing you from connecting to an Azure Kubernetes Fleet Manager hub cluster via `kubectl`.

## Symptoms

You try to connect to an Azure Kubernetes Fleet Manager's hub cluster using credentials obtained using the following command: 

```azurecli-interactive
az fleet get-credentials \
    --resource-group rg-contoso-01 \
    --name flt-contoso-01
```

When attempting to call any API on the Fleet Manager hub cluster via `kubectl`, you're prompted to enter a device code to authenticate.

If your organization enforces Conditional Access policies that block device code flows, you might receive a message that resembles the following message:

> Your sign-in was successful but does not meet the criteria to access this resource. For example, you might be signing in from a browser, app, location, or an authentication flow that is restricted by your admin.

The following screenshot shows an example of this kind of message.

:::image type="content" source="../media/unable-connect-azure-fleet-manager/no-access-message.png" alt-text="Example of Conditional Access blocking device code flow." lightbox="../media/unable-connect-azure-fleet-manager/no-access-message.png":::

## Cause

The kubeconfig file that's generated by the `az fleet get-credentials` command defaults to device code authentication. Conditional Access policies can block this flow and prevent access to the Fleet Manager hub cluster.

## Resolution

To resolve this issue, modify using the following command to modify your kubeconfig to use Azure CLI authentication instead of device code authentication:

```bash
kubelogin convert-kubeconfig -l azurecli
```

Now, when using `kubectl` your existing Azure sign-in session will be used, or a non-device flow will be initiated if you aren't already authenticated.
